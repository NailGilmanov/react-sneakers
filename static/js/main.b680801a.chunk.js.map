{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","context.js","hooks/useCart.js","components/Header.js","components/Info.jsx","components/Drawer/index.js","components/Card/index.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","Header","props","className","to","width","height","src","alt","minWidth","onClick","onClickCart","Info","title","image","description","setCartOpened","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemove","items","opened","useState","orderId","setOrderId","isOrderComplete","setIsOrderComplete","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imageUrl","Math","round","disabled","Card","onFavorite","onPlus","favorited","loading","isItemAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Home","searchValue","onAddToFavorite","setSearchValue","onChangeSearchInput","onAddToCart","filtredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","console","error","App","setItems","setFavorites","cartOpened","setLoading","all","cartResponse","favoritesResponse","itemsResponse","fetchData","findItem","find","Number","favObj","color","size","cssOverride","display","margin","Provider","value","some","maxWidth","class","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b680801a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__1y6bo\",\"overlayVisible\":\"Drawer_overlayVisible__1GUZ3\",\"drawer\":\"Drawer_drawer__30ocb\",\"items\":\"Drawer_items__15U0L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3PTxl\",\"plus\":\"Card_plus__vwZvG\",\"favorite\":\"Card_favorite__3rQi6\"};","import React from 'react';\r\n\r\nconst AppContext = React.createContext({});\r\n\r\nexport default AppContext;","import React from 'react';\r\nimport AppContext from '../context';\r\n\r\nexport const useCart = () => {\r\n  const { cartItems, setCartItems } = React.useContext(AppContext);\r\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n\r\n  return { cartItems, setCartItems, totalPrice };\r\n};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nimport { useCart } from '../hooks/useCart';\r\n\r\nfunction Header(props) {\r\n  const { totalPrice } = useCart();\r\n\r\n  return (\r\n    <header className=\"d-flex justify-between align-center p-40\">\r\n      <Link to=\"/\">\r\n        <div className=\"d-flex align-center\">\r\n          <img width={40} height={40} src=\"img/logo.png\" alt=\"Logotype\" />\r\n          <div>\r\n            <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n            <p className=\"opacity-5\">Магазин лучших кроссовок</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <MediaQuery minWidth={920}>\r\n        <ul className=\"d-flex\">\r\n          <li onClick={props.onClickCart} className=\"mr-30 cu-p\">\r\n            <img width={18} height={18} src=\"img/cart.svg\" alt=\"Корзина\" />\r\n            <span>{totalPrice} руб.</span>\r\n          </li>\r\n          <li className=\"mr-20 cu-p\">\r\n            <Link to=\"/favorites\">\r\n              <img width={18} height={18} src=\"img/favorite.svg\" alt=\"Закладки\" />\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/orders\">\r\n              <img width={18} height={18} src=\"img/Union.svg\" alt=\"Пользователь\" />\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </MediaQuery>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport AppContext from '../context';\r\n\r\nconst Info = ({ title, image, description }) => {\r\n  const { setCartOpened } = React.useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img className=\"mb-20\" width=\"120px\" src={image} alt=\"Empty\" />\r\n      <h2>{title}</h2>\r\n      <p className=\"opacity-6\">{description}</p>\r\n      <button onClick={() => setCartOpened(false)} className=\"greenButton\">\r\n        <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Info from '../Info';\r\nimport { useCart } from '../../hooks/useCart';\r\n\r\nimport styles from './Drawer.module.scss';\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nfunction Drawer({ onClose, onRemove, items = [], opened }) {\r\n  const { cartItems, setCartItems, totalPrice } = useCart();\r\n  const [orderId, setOrderId] = React.useState(null);\r\n  const [isOrderComplete, setIsOrderComplete] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const { data } = await axios.post('https://60e9f2995dd7ff0017b39725.mockapi.io/orders', {\r\n        items: cartItems,\r\n      });\r\n      setOrderId(data.id);\r\n      setIsOrderComplete(true);\r\n      setCartItems([]);\r\n\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i];\r\n        await axios.delete('https://60e9f2995dd7ff0017b39725.mockapi.io/cart/' + item.id);\r\n        await delay(1000);\r\n      }\r\n    } catch (error) {\r\n      alert('Ошибка при создании заказа :(');\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n      <div className={styles.drawer}>\r\n        <h2 className=\"d-flex justify-between mb-30\">\r\n          Корзина <img onClick={onClose} className=\"cu-p\" src=\"img/btn-remove-active.svg\" alt=\"Close\" />\r\n        </h2>\r\n\r\n        {items.length > 0 ? (\r\n          <div className=\"d-flex flex-column flex\">\r\n            <div className=\"items flex\">\r\n              {items.map((obj) => (\r\n                <div key={obj.id} className=\"cartItem d-flex align-center mb-20\">\r\n                  <div\r\n                    style={{ backgroundImage: `url(${obj.imageUrl})` }}\r\n                    className=\"cartItemImg\"></div>\r\n\r\n                  <div className=\"mr-20 flex\">\r\n                    <p className=\"mb-5\">{obj.title}</p>\r\n                    <b>{obj.price} руб.</b>\r\n                  </div>\r\n                  <img\r\n                    onClick={() => onRemove(obj.id)}\r\n                    className=\"removeBtn\"\r\n                    src=\"img/btn-remove-active.svg\"\r\n                    alt=\"Remove\"\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"cartTotalBlock\">\r\n              <ul>\r\n                <li>\r\n                  <span>Итого:</span>\r\n                  <div></div>\r\n                  <b>{totalPrice} руб. </b>\r\n                </li>\r\n                <li>\r\n                  <span>Налог 5%:</span>\r\n                  <div></div>\r\n                  <b>{Math.round((totalPrice / 100) * 5)} руб. </b>\r\n                </li>\r\n              </ul>\r\n              <button disabled={isLoading} onClick={onClickOrder} className=\"greenButton\">\r\n                Оформить заказ <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <Info\r\n            title={isOrderComplete ? 'Заказ оформлен!' : 'Корзина пустая'}\r\n            description={\r\n              isOrderComplete\r\n                ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке`\r\n                : 'Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.'\r\n            }\r\n            image={isOrderComplete ? 'img/complete-order.jpg' : 'img/empty-cart.png'}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Drawer;","import React from 'react';\r\nimport ContentLoader from 'react-content-loader';\r\n\r\nimport AppContext from '../../context';\r\n\r\nimport styles from './Card.module.scss';\r\n\r\nfunction Card({\r\n  id,\r\n  title,\r\n  imageUrl,\r\n  price,\r\n  onFavorite,\r\n  onPlus,\r\n  favorited = false,\r\n  loading = false,\r\n}) {\r\n  const { isItemAdded } = React.useContext(AppContext);\r\n  const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n  const obj = { id, parentId: id, title, imageUrl, price };\r\n\r\n  const onClickPlus = () => {\r\n    onPlus(obj);\r\n  };\r\n\r\n  const onClickFavorite = () => {\r\n    onFavorite(obj);\r\n    setIsFavorite(!isFavorite);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      {loading ? (\r\n        <ContentLoader\r\n          speed={2}\r\n          width={155}\r\n          height={250}\r\n          viewBox=\"0 0 155 265\"\r\n          backgroundColor=\"#f3f3f3\"\r\n          foregroundColor=\"#ecebeb\">\r\n          <rect x=\"1\" y=\"0\" rx=\"10\" ry=\"10\" width=\"155\" height=\"155\" />\r\n          <rect x=\"0\" y=\"167\" rx=\"5\" ry=\"5\" width=\"155\" height=\"15\" />\r\n          <rect x=\"0\" y=\"187\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" />\r\n          <rect x=\"1\" y=\"234\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" />\r\n          <rect x=\"124\" y=\"230\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n        </ContentLoader>\r\n      ) : (\r\n        <>\r\n          {onFavorite && (\r\n            <div className={styles.favorite} onClick={onClickFavorite}>\r\n              <img src={isFavorite ? 'img/like.svg' : 'img/unlike.svg'} alt=\"Unliked\" />\r\n            </div>\r\n          )}\r\n          <img width=\"100%\" height={135} src={imageUrl} alt=\"Sneakers\" />\r\n          <h5>{title}</h5>\r\n          <div className=\"d-flex justify-between align-center\">\r\n            <div className=\"d-flex flex-column\">\r\n              <span>Цена:</span>\r\n              <b>{price} руб.</b>\r\n            </div>\r\n            {onPlus && (\r\n              <img\r\n                className={styles.plus}\r\n                onClick={onClickPlus}\r\n                src={isItemAdded(id) ? 'img/goToCard_active.svg' : 'img/goToCard_disabled.svg'}\r\n                alt=\"Plus\"\r\n              />\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n\r\nimport Card from '../components/Card';\r\n\r\nfunction Home({\r\n  items,\r\n  searchValue,\r\n  setSearchValue,\r\n  onChangeSearchInput,\r\n  onAddToFavorite,\r\n  onAddToCart,\r\n  isLoading,\r\n}) {\r\n  const renderItems = () => {\r\n    const filtredItems = items.filter((item) =>\r\n      item.title.toLowerCase().includes(searchValue.toLowerCase()),\r\n    );\r\n    return (isLoading ? [...Array(8)] : filtredItems).map((item, index) => (\r\n      <Card\r\n        key={index}\r\n        onFavorite={(obj) => onAddToFavorite(obj)}\r\n        onPlus={(obj) => onAddToCart(obj)}\r\n        loading={isLoading}\r\n        {...item}\r\n      />\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>{searchValue ? `Поиск по запросу: \"${searchValue}\"` : 'Все кроссовки'}</h1>\r\n        {/* <div className=\"search-block d-flex\">\r\n          <img src=\"img/search.svg\" alt=\"Search\" />\r\n          {searchValue && (\r\n            <img\r\n              onClick={() => setSearchValue('')}\r\n              className=\"clear cu-p\"\r\n              src=\"img/btn-remove-active.svg\"\r\n              alt=\"Clear\"\r\n            />\r\n          )}\r\n          <input onChange={onChangeSearchInput} value={searchValue} placeholder=\"Поиск...\" />\r\n        </div> */}\r\n      </div>\r\n      <div className=\"d-flex flex-wrap\">{renderItems()}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport Card from '../components/Card';\r\nimport AppContext from '../context';\r\n\r\nfunction Favorites() {\r\n  const { favorites, onAddToFavorite } = React.useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои закладки</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {favorites.map((item, index) => (\r\n          <Card key={index} favorited={true} onFavorite={onAddToFavorite} {...item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Favorites;","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Card from '../components/Card';\r\n\r\nfunction Orders() {\r\n  const [orders, setOrders] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await axios.get('https://60e9f2995dd7ff0017b39725.mockapi.io/orders');\r\n        setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        alert('Ошибка при запросе заказов');\r\n        console.error(error);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои заказы</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {(isLoading ? [...Array(8)] : orders).map((item, index) => (\r\n          <Card key={index} loading={isLoading} {...item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;","import React, {useState, useEffect, CSSProperties } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Header from './components/Header';\r\nimport Drawer from './components/Drawer';\r\nimport AppContext from './context';\r\n\r\nimport MediaQuery from \"react-responsive\";\r\n\r\nimport Home from './pages/Home';\r\nimport Favorites from './pages/Favorites';\r\nimport Orders from './pages/Orders';\r\n\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nfunction App() {\r\n  const [items, setItems] = React.useState([]);\r\n  const [cartItems, setCartItems] = React.useState([]);\r\n  const [favorites, setFavorites] = React.useState([]);\r\n  const [searchValue, setSearchValue] = React.useState('');\r\n  const [cartOpened, setCartOpened] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        setTimeout(()=> {\r\n            setLoading(false)\r\n        }, 1500)\r\n    },[])\r\n\r\n    const style_loader: React.CSSProperties = {\r\n        display: \"block\",\r\n        margin: \"300px auto\",\r\n      };\r\n\r\n  React.useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const [cartResponse, favoritesResponse, itemsResponse] = await Promise.all([\r\n          axios.get('https://60e9f2995dd7ff0017b39725.mockapi.io/cart'),\r\n          axios.get('https://60e9f2995dd7ff0017b39725.mockapi.io/favorites'),\r\n          axios.get('https://60e9f2995dd7ff0017b39725.mockapi.io/items'),\r\n        ]);\r\n\r\n        setIsLoading(false);\r\n        setCartItems(cartResponse.data);\r\n        setFavorites(favoritesResponse.data);\r\n        setItems(itemsResponse.data);\r\n      } catch (error) {\r\n        alert('Ошибка при запросе данных ;(');\r\n        console.error(error);\r\n      }\r\n    }\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const onAddToCart = async (obj) => {\r\n    try {\r\n      const findItem = cartItems.find((item) => Number(item.parentId) === Number(obj.id));\r\n      if (findItem) {\r\n        setCartItems((prev) => prev.filter((item) => Number(item.parentId) !== Number(obj.id)));\r\n        await axios.delete(`https://60e9f2995dd7ff0017b39725.mockapi.io/cart/${findItem.id}`);\r\n      } else {\r\n        setCartItems((prev) => [...prev, obj]);\r\n        const { data } = await axios.post('https://60e9f2995dd7ff0017b39725.mockapi.io/cart', obj);\r\n        setCartItems((prev) =>\r\n          prev.map((item) => {\r\n            if (item.parentId === data.parentId) {\r\n              return {\r\n                ...item,\r\n                id: data.id,\r\n              };\r\n            }\r\n            return item;\r\n          }),\r\n        );\r\n      }\r\n    } catch (error) {\r\n      alert('Ошибка при добавлении в корзину');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const onRemoveItem = (id) => {\r\n    try {\r\n      axios.delete(`https://60e9f2995dd7ff0017b39725.mockapi.io/cart/${id}`);\r\n      setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(id)));\r\n    } catch (error) {\r\n      alert('Ошибка при удалении из корзины');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const onAddToFavorite = async (obj) => {\r\n    try {\r\n      if (favorites.find((favObj) => Number(favObj.id) === Number(obj.id))) {\r\n        axios.delete(`https://60e9f2995dd7ff0017b39725.mockapi.io/favorites/${obj.id}`);\r\n        setFavorites((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)));\r\n      } else {\r\n        const { data } = await axios.post(\r\n          'https://60e9f2995dd7ff0017b39725.mockapi.io/favorites',\r\n          obj,\r\n        );\r\n        setFavorites((prev) => [...prev, data]);\r\n      }\r\n    } catch (error) {\r\n      alert('Не удалось добавить в фавориты');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const onChangeSearchInput = (event) => {\r\n    setSearchValue(event.target.value);\r\n  };\r\n\r\n  const isItemAdded = (id) => {\r\n    return cartItems.some((obj) => Number(obj.parentId) === Number(id));\r\n  };\r\n\r\n  return (\r\n    <>\r\n\r\n    {\r\n    loading ? <ClipLoader\r\n            color=\"#000000\"\r\n            loading={loading}\r\n            size={50}\r\n            cssOverride={style_loader}\r\n            aria-label=\"Loading Spinner\"\r\n            data-testid=\"loader\"\r\n          /> \r\n      :\r\n    <AppContext.Provider\r\n      value={{\r\n        items,\r\n        cartItems,\r\n        favorites,\r\n        isItemAdded,\r\n        onAddToFavorite,\r\n        onAddToCart,\r\n        setCartOpened,\r\n        setCartItems,\r\n      }}>\r\n      <MediaQuery maxWidth={920}>  \r\n          <button class=\"button1\" onClick={() => setCartOpened(true)}>\r\n            <img src=\"img/cart.svg\" alt=\"Корзина\" />\r\n          </button>\r\n      </MediaQuery>\r\n      <div className=\"wrapper clear\">\r\n        <Drawer\r\n          items={cartItems}\r\n          onClose={() => setCartOpened(false)}\r\n          onRemove={onRemoveItem}\r\n          opened={cartOpened}\r\n        />\r\n\r\n        <Header onClickCart={() => setCartOpened(true)} />\r\n\r\n        <Route path=\"/react-sneakers\" exact>\r\n          <Home\r\n            items={items}\r\n            cartItems={cartItems}\r\n            searchValue={searchValue}\r\n            setSearchValue={setSearchValue}\r\n            onChangeSearchInput={onChangeSearchInput}\r\n            onAddToFavorite={onAddToFavorite}\r\n            onAddToCart={onAddToCart}\r\n            isLoading={isLoading}\r\n          />\r\n        </Route>\r\n\r\n        <Route path=\"/react-sneakers/favorites\" exact>\r\n          <Favorites />\r\n        </Route>\r\n\r\n        <Route path=\"/react-sneakers/orders\" exact>\r\n          <Orders />\r\n        </Route>\r\n      </div>\r\n    </AppContext.Provider>\r\n    } \r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.scss';\r\nimport 'macro-css';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);"],"sourceRoot":""}